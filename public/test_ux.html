<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UX Test</title>
    <!-- Tailwind -->
    <link href="./styles.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: { extend: {} }
        }
    </script>
    <script type="importmap">
        {
            "imports": {
                "../firebase-init.js": "./mock-firebase-init.js",
                "./firebase-init.js": "./mock-firebase-init.js",
                "/js/firebase-init.js": "./mock-firebase-init.js",
                "/js/utils.js": "./mock-utils.js",
                "../utils.js": "./mock-utils.js",
                "../utils/translation-service.js": "/js/utils/translation-service.js",
                "../gemini-api.js": "./mock-gemini.js",
                "./mock-gemini.js": "./mock-gemini.js",
                "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js": "./mock-firestore.js",
                "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js": "./mock-firestore.js",
                "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js": "./mock-auth.js",
                "https://www.gstatic.com/firebasejs/10.12.2/firebase-functions.js": "./mock-functions.js",
                "https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js": "./mock-confetti.js"
            }
        }
    </script>
</head>
<body class="bg-slate-50 p-8">
    <div id="dashboard-container" class="mb-8">
        <h2 class="text-xl font-bold mb-4">Dashboard View (Task 3)</h2>
        <student-dashboard-view></student-dashboard-view>
    </div>

    <div id="student-container" class="mb-8">
        <h2 class="text-xl font-bold mb-4">Student Main (Task 1)</h2>
        <!-- We will inject student-dashboard via JS and set properties -->
    </div>

    <script type="module">
        import './js/student/student-dashboard-view.js';
        import './js/student.js'; // Defines student-dashboard

        // Setup Dashboard View
        const dashboard = document.querySelector('student-dashboard-view');
        dashboard.user = { uid: 'u1', email: 'student@test.com' };

        // Setup Student Main
        const studentMain = document.createElement('student-dashboard');
        studentMain.user = { uid: 'u1', email: 'student@test.com' };
        studentMain.selectedClassId = 'group-123';
        studentMain.currentView = 'classes';

        document.getElementById('student-container').appendChild(studentMain);

        // Wait for update
        await studentMain.updateComplete;

        // Log to console for verification script to pick up
        console.log('Test Render Complete');
    </script>
</body>
</html>
